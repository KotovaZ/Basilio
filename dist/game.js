/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/collision.ts":
/*!**************************!*\
  !*** ./src/collision.ts ***!
  \**************************/
/*! exports provided: collision */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"collision\", function() { return collision; });\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nfunction collision(target) {\r\n    return /** @class */ (function (_super) {\r\n        __extends(class_1, _super);\r\n        function class_1() {\r\n            var _this = _super !== null && _super.apply(this, arguments) || this;\r\n            _this.velocity = { y: 0, x: 0 };\r\n            _this.getAABB = function () {\r\n                return {\r\n                    min: { x: _this.position.x + _this.velocity.x, y: _this.position.y + _this.velocity.y },\r\n                    max: { x: _this.position.x + _this.body.width + _this.velocity.x, y: _this.position.y + _this.body.height }\r\n                };\r\n            };\r\n            return _this;\r\n        }\r\n        return class_1;\r\n    }(target));\r\n}\r\n\n\n//# sourceURL=webpack:///./src/collision.ts?");

/***/ }),

/***/ "./src/collisionChecker.ts":
/*!*********************************!*\
  !*** ./src/collisionChecker.ts ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar CollisionChecker = /** @class */ (function () {\r\n    function CollisionChecker() {\r\n    }\r\n    CollisionChecker.prototype.hasCollision = function (a, b) {\r\n        if (a.max.x < b.min.x || a.min.x > b.max.x)\r\n            return false;\r\n        if (a.max.y < b.min.y || a.min.y > b.max.y)\r\n            return false;\r\n        return true;\r\n    };\r\n    CollisionChecker.prototype.checkTop = function (a, b) {\r\n        if (a.velocity.y > 0 &&\r\n            a.getAABB().min.y < b.getAABB().min.y &&\r\n            a.getAABB().max.y >= b.getAABB().min.y &&\r\n            a.getAABB().max.x != b.getAABB().min.x &&\r\n            a.getAABB().min.x != b.getAABB().max.x &&\r\n            a.getAABB().max.y < b.getAABB().max.y)\r\n            return true;\r\n        return false;\r\n    };\r\n    CollisionChecker.prototype.checkBottom = function (a, b) {\r\n        if (a.velocity.y <= 0 &&\r\n            a.getAABB().max.y > b.getAABB().max.y &&\r\n            a.getAABB().min.y <= b.getAABB().max.y &&\r\n            a.getAABB().min.y > b.getAABB().min.y)\r\n            return true;\r\n        return false;\r\n    };\r\n    CollisionChecker.prototype.checkRight = function (a, b) {\r\n        if (a.velocity.x > 0 &&\r\n            a.getAABB().min.x < b.getAABB().min.x &&\r\n            a.getAABB().max.x + a.velocity.x >= b.getAABB().min.x &&\r\n            a.getAABB().max.x + a.velocity.x <= b.getAABB().max.x &&\r\n            a.getAABB().min.y !== b.getAABB().max.y) {\r\n            return true;\r\n        }\r\n        ;\r\n        return false;\r\n    };\r\n    CollisionChecker.prototype.checkLeft = function (a, b) {\r\n        if (a.velocity.x < 0 &&\r\n            a.getAABB().max.x > b.getAABB().max.x &&\r\n            a.getAABB().min.x + a.velocity.x <= b.getAABB().max.x &&\r\n            a.getAABB().min.x + a.velocity.x >= b.getAABB().min.x &&\r\n            a.getAABB().min.y !== b.getAABB().max.y)\r\n            return true;\r\n        return false;\r\n    };\r\n    return CollisionChecker;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (CollisionChecker);\r\n\n\n//# sourceURL=webpack:///./src/collisionChecker.ts?");

/***/ }),

/***/ "./src/component.ts":
/*!**************************!*\
  !*** ./src/component.ts ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar Component = /** @class */ (function () {\r\n    function Component(element, attrs) {\r\n        if (attrs === void 0) { attrs = {}; }\r\n        this.element = document.createElement(element);\r\n        this.setAttributes(attrs);\r\n    }\r\n    Component.prototype.getInstance = function () {\r\n        return this.element;\r\n    };\r\n    Component.prototype.setInner = function (text) {\r\n        this.element.innerHTML = text;\r\n        return this;\r\n    };\r\n    Component.prototype.setAttribute = function (key, value) {\r\n        this.element.setAttribute(key, value);\r\n    };\r\n    Component.prototype.setAttributes = function (attrs) {\r\n        var _this = this;\r\n        Object.keys(attrs).forEach(function (key) {\r\n            _this.setAttribute(key, attrs[key]);\r\n        });\r\n    };\r\n    Component.prototype.render = function (parent) {\r\n        parent.appendChild(this.element);\r\n    };\r\n    return Component;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component);\r\n\n\n//# sourceURL=webpack:///./src/component.ts?");

/***/ }),

/***/ "./src/components/body.ts":
/*!********************************!*\
  !*** ./src/components/body.ts ***!
  \********************************/
/*! exports provided: Body */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Body\", function() { return Body; });\nvar Body = /** @class */ (function () {\r\n    function Body(width, height) {\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n    return Body;\r\n}());\r\n\r\n\n\n//# sourceURL=webpack:///./src/components/body.ts?");

/***/ }),

/***/ "./src/components/bonus.ts":
/*!*********************************!*\
  !*** ./src/components/bonus.ts ***!
  \*********************************/
/*! exports provided: Bonus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Bonus\", function() { return Bonus; });\n/* harmony import */ var _body__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./body */ \"./src/components/body.ts\");\n/* harmony import */ var _component_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component.ts */ \"./src/component.ts\");\n/* harmony import */ var _unit_unit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./unit/unit */ \"./src/components/unit/unit.ts\");\n/* harmony import */ var _coin__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./coin */ \"./src/components/coin.ts\");\n/* harmony import */ var _mushroom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mushroom */ \"./src/components/mushroom.ts\");\n/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../collision */ \"./src/collision.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar Bonus = /** @class */ (function (_super) {\r\n    __extends(Bonus, _super);\r\n    function Bonus(position, width, height, component) {\r\n        var _this = this;\r\n        _this.position = position;\r\n        _this.body = new _body__WEBPACK_IMPORTED_MODULE_0__[\"Body\"](width, height);\r\n        _this.component = component;\r\n        _this = _super.call(this) || this;\r\n        _this.sprite = new _component_ts__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"img\", { src: \"./src/img/environment.png\" });\r\n        _this.trackable = false;\r\n        _this.action = 'wait';\r\n        _this.charge = 1;\r\n        _this.render = function (ctx) {\r\n            if (_this.collisions[180]) {\r\n                if (_this.charge) {\r\n                    _this.charge -= 1;\r\n                    switch (_this.component) {\r\n                        case '?':\r\n                            _this.layer.addObject(new _coin__WEBPACK_IMPORTED_MODULE_3__[\"Coin\"]({ x: _this.position.x, y: _this.position.y + 32 }));\r\n                            break;\r\n                        case '*':\r\n                            _this.layer.addObject(new _mushroom__WEBPACK_IMPORTED_MODULE_4__[\"Mushroom\"]({ x: _this.position.x, y: _this.position.y + 32 }));\r\n                            break;\r\n                    }\r\n                }\r\n                _this.action = 'active';\r\n            }\r\n            var frame = _this.getCurrentFrame();\r\n            ctx.drawImage(_this.sprite.getInstance(), frame.x, frame.y, _this.body.width, _this.body.height, _this.position.x + window.camera.x, 768 - _this.position.y - _this.body.height, _this.body.width, _this.body.height);\r\n        };\r\n        _this.getCurrentFrame = function () {\r\n            return _this.animations[_this.action].render();\r\n        };\r\n        _this.animations = {\r\n            'wait': (function () {\r\n                var frames = [\r\n                    { x: 23 * 32, y: 0 },\r\n                    { x: 24 * 32, y: 0 },\r\n                    { x: 25 * 32, y: 0 },\r\n                ];\r\n                var frame = 0;\r\n                var time = 0;\r\n                var render = function () {\r\n                    var position = frames[frame];\r\n                    time += 1;\r\n                    //window.game.processDate.getMilliseconds()\r\n                    if (time % 30 / window.framerate == 0) {\r\n                        frame += 1;\r\n                        frame = frame < frames.length ? frame : 0;\r\n                    }\r\n                    return frames[frame];\r\n                };\r\n                return { render: render };\r\n            })(),\r\n            'active': (function () {\r\n                var time = 0;\r\n                var start_y = _this.position.y;\r\n                var render = function () {\r\n                    _this.position.y = start_y + Math.sin(time / 8) * 16;\r\n                    time += 1;\r\n                    if (time >= 26) {\r\n                        time = 0;\r\n                        _this.action = 'passive';\r\n                        _this.position.y = start_y;\r\n                    }\r\n                    return { x: 26 * 32, y: 0 };\r\n                };\r\n                return { render: render };\r\n            })(),\r\n            'passive': {\r\n                render: function () { return { x: 26 * 32, y: 0 }; }\r\n            },\r\n        };\r\n        return _this;\r\n    }\r\n    Bonus = __decorate([\r\n        _collision__WEBPACK_IMPORTED_MODULE_5__[\"collision\"]\r\n    ], Bonus);\r\n    return Bonus;\r\n}(_unit_unit__WEBPACK_IMPORTED_MODULE_2__[\"Unit\"]));\r\n\r\n\n\n//# sourceURL=webpack:///./src/components/bonus.ts?");

/***/ }),

/***/ "./src/components/coin.ts":
/*!********************************!*\
  !*** ./src/components/coin.ts ***!
  \********************************/
/*! exports provided: Coin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Coin\", function() { return Coin; });\n/* harmony import */ var _body__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./body */ \"./src/components/body.ts\");\n/* harmony import */ var _component_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component.ts */ \"./src/component.ts\");\n/* harmony import */ var _unit_unit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./unit/unit */ \"./src/components/unit/unit.ts\");\n/* harmony import */ var _gravity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../gravity */ \"./src/gravity.ts\");\n/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../state */ \"./src/state.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n\r\n\r\n\r\nvar Coin = /** @class */ (function (_super) {\r\n    __extends(Coin, _super);\r\n    function Coin(position) {\r\n        var _this = this;\r\n        _state__WEBPACK_IMPORTED_MODULE_4__[\"store\"].set('score', _state__WEBPACK_IMPORTED_MODULE_4__[\"store\"].get('score') + 100);\r\n        _this.position = position;\r\n        _this.body = new _body__WEBPACK_IMPORTED_MODULE_0__[\"Body\"](32, 32);\r\n        _this = _super.call(this) || this;\r\n        _this.sprite = new _component_ts__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"img\", { src: \"./src/img/environment.png\" });\r\n        _this.trackable = false;\r\n        _this.action = 'wait';\r\n        _this.velocity = {\r\n            x: 1,\r\n            y: 60 / window.framerate\r\n        };\r\n        _this.render = function (ctx) {\r\n            if (_this.collisions[180]) {\r\n                _this.action = 'active';\r\n            }\r\n            var frame = _this.getCurrentFrame();\r\n            ctx.drawImage(_this.sprite.getInstance(), frame.x, frame.y, _this.body.width, _this.body.height, _this.position.x + window.camera.x, 768 - _this.position.y - _this.body.height, _this.body.width, _this.body.height);\r\n        };\r\n        _this.getCurrentFrame = function () {\r\n            return _this.animations['default'].render();\r\n        };\r\n        _this.animations = {\r\n            'default': (function () {\r\n                var frames = [\r\n                    { x: 23 * 32, y: 32 },\r\n                    { x: 24 * 32, y: 32 },\r\n                    { x: 25 * 32, y: 32 },\r\n                ];\r\n                var frame = 0;\r\n                var time = 0;\r\n                var render = function () {\r\n                    time += 1;\r\n                    if (time % 8 / window.framerate == 0)\r\n                        frame = frame + 1 < frames.length ? frame + 1 : 0;\r\n                    if (time >= window.framerate)\r\n                        _this.layer.deleteObject(_this);\r\n                    return frames[frame];\r\n                };\r\n                return { render: render };\r\n            })()\r\n        };\r\n        return _this;\r\n    }\r\n    Coin = __decorate([\r\n        _gravity__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\r\n    ], Coin);\r\n    return Coin;\r\n}(_unit_unit__WEBPACK_IMPORTED_MODULE_2__[\"Unit\"]));\r\n\r\n\n\n//# sourceURL=webpack:///./src/components/coin.ts?");

/***/ }),

/***/ "./src/components/crow.ts":
/*!********************************!*\
  !*** ./src/components/crow.ts ***!
  \********************************/
/*! exports provided: Crow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Crow\", function() { return Crow; });\n/* harmony import */ var _body__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./body */ \"./src/components/body.ts\");\n/* harmony import */ var _component_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component.ts */ \"./src/component.ts\");\n/* harmony import */ var _unit_unit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./unit/unit */ \"./src/components/unit/unit.ts\");\n/* harmony import */ var _fireball__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fireball */ \"./src/components/fireball.ts\");\n/* harmony import */ var _coin__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./coin */ \"./src/components/coin.ts\");\n/* harmony import */ var _gravity__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../gravity */ \"./src/gravity.ts\");\n/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../collision */ \"./src/collision.ts\");\n/* harmony import */ var _unit_enemy__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./unit/enemy */ \"./src/components/unit/enemy.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __spreadArrays = (undefined && undefined.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar Crow = /** @class */ (function (_super) {\r\n    __extends(Crow, _super);\r\n    function Crow(position, width, height) {\r\n        var _this = this;\r\n        _this.position = position;\r\n        _this.body = new _body__WEBPACK_IMPORTED_MODULE_0__[\"Body\"](width, height);\r\n        _this = _super.call(this) || this;\r\n        _this.sprite = new _component_ts__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"img\", { src: \"./src/img/enemies.png\" });\r\n        _this.trackable = true;\r\n        _this.action = 'default';\r\n        _this.velocity = { y: 0, x: 1 };\r\n        _this.speed = 64;\r\n        _this.vector = {\r\n            x: -1,\r\n            y: 0\r\n        };\r\n        _this.render = function (ctx) {\r\n            if (_this.collisions[0] && _this.action !== 'die') {\r\n                _this.action = 'die';\r\n                _this.collisions[0][0].velocity.y += 7;\r\n                _this.layer.addObject(new _coin__WEBPACK_IMPORTED_MODULE_4__[\"Coin\"]({ x: _this.position.x, y: _this.position.y + 32 }));\r\n            }\r\n            if ((_this.collisions[90] || _this.collisions[270]) && _this.action !== 'die') {\r\n                if (__spreadArrays((_this.collisions[90] || []), (_this.collisions[270] || [])).some(function (element) { return element instanceof _fireball__WEBPACK_IMPORTED_MODULE_3__[\"Fireball\"]; })) {\r\n                    _this.action = 'die';\r\n                    _this.layer.addObject(new _coin__WEBPACK_IMPORTED_MODULE_4__[\"Coin\"]({ x: _this.position.x, y: _this.position.y + 32 }, 32, 32));\r\n                }\r\n                var collisionObject = _this.collisions[90] ? _this.collisions[90][0] : _this.collisions[270][0];\r\n                if (collisionObject.hasOwnProperty('enemy') && collisionObject.enemy !== _this.enemy) {\r\n                    collisionObject.dispatchEvent('damage', { value: collisionObject.health });\r\n                }\r\n                _this.vector.x = _this.vector.x * -1;\r\n            }\r\n            _this.position.y += _this.velocity.y / 12;\r\n            var frame = _this.getCurrentFrame();\r\n            ctx.drawImage(_this.sprite.getInstance(), frame.x, frame.y, _this.body.width, _this.body.height, _this.position.x + window.camera.x, 768 - _this.position.y - _this.body.height, _this.body.width, _this.body.height);\r\n        };\r\n        _this.getCurrentFrame = function () {\r\n            return _this.animations[_this.action].render();\r\n        };\r\n        _this.animations = {\r\n            'default': (function () {\r\n                var frames = [\r\n                    { x: 0, y: 32 },\r\n                    { x: 32, y: 32 },\r\n                ];\r\n                var frame = 0;\r\n                var time = 0;\r\n                return {\r\n                    render: function () {\r\n                        time += 1;\r\n                        if (time % 15 / window.framerate == 0) {\r\n                            frame += 1;\r\n                            frame = frame < frames.length ? frame : 0;\r\n                        }\r\n                        _this.velocity.x = _this.vector.x * _this.speed / window.framerate;\r\n                        return frames[frame];\r\n                    }\r\n                };\r\n            })(),\r\n            'die': (function () {\r\n                var time = 0;\r\n                return {\r\n                    render: function () {\r\n                        _this.velocity.x = 0;\r\n                        time += 1;\r\n                        _this.body.height = 16;\r\n                        _this.speed = 0;\r\n                        if (time >= window.framerate) {\r\n                            _this.layer.deleteObject(_this);\r\n                        }\r\n                        return { x: 64, y: 46 };\r\n                    }\r\n                };\r\n            })()\r\n        };\r\n        return _this;\r\n    }\r\n    Crow = __decorate([\r\n        _collision__WEBPACK_IMPORTED_MODULE_6__[\"collision\"],\r\n        _gravity__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\r\n        Object(_unit_enemy__WEBPACK_IMPORTED_MODULE_7__[\"enemy\"])(1)\r\n    ], Crow);\r\n    return Crow;\r\n}(_unit_unit__WEBPACK_IMPORTED_MODULE_2__[\"Unit\"]));\r\n\r\n\n\n//# sourceURL=webpack:///./src/components/crow.ts?");

/***/ }),

/***/ "./src/components/decoration.ts":
/*!**************************************!*\
  !*** ./src/components/decoration.ts ***!
  \**************************************/
/*! exports provided: Decoration */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Decoration\", function() { return Decoration; });\n/* harmony import */ var _body__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./body */ \"./src/components/body.ts\");\n/* harmony import */ var _component_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component.ts */ \"./src/component.ts\");\n/* harmony import */ var _unit_unit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./unit/unit */ \"./src/components/unit/unit.ts\");\n/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../collision */ \"./src/collision.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n\r\n\r\nvar Decoration = /** @class */ (function (_super) {\r\n    __extends(Decoration, _super);\r\n    function Decoration(position, width, height, component) {\r\n        var _this = _super.call(this) || this;\r\n        _this.sprite = new _component_ts__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"img\", { src: \"./src/img/environment.png\" });\r\n        _this.trackable = false;\r\n        _this.setTexture = function (component) {\r\n            switch (component) {\r\n                case 'S':\r\n                    _this.texture = { x: 32 * 11, y: 32 * 11 };\r\n                    break;\r\n                case 'C':\r\n                    _this.texture = { x: 32 * 11, y: 32 * 17 };\r\n                    break;\r\n                case 'Z':\r\n                    _this.texture = { x: 32 * 13, y: 32 };\r\n                    break;\r\n                case 'w':\r\n                    _this.texture = { x: 96, y: 32 * 27 };\r\n                    break;\r\n                case 'W':\r\n                    _this.texture = { x: 96, y: 32 * 26 };\r\n                    break;\r\n                case 'f':\r\n                    _this.texture = { x: 32 * 5, y: 0 };\r\n                    break;\r\n            }\r\n        };\r\n        _this.render = function (ctx) {\r\n            /*if (this.component === 'C' && this.layer) {\r\n                for (let i=0; i < 1; i++) {\r\n                    let particlePosition = {\r\n                        x: this.position.x + window.game.random(-30, 30) + this.body.width / 2,\r\n                        y: this.position.y\r\n                    };\r\n                    let particleVelocity = {x: 0, y: 0};\r\n                    // const lifeTime = window.game.random(1, 50);\r\n                    // let particleSize = 4 - Math.ceil(lifeTime / 4);\r\n                    const lifeTime = 10000;\r\n                    let particleSize = 1;\r\n                    particleSize = particleSize <= 0 ? 1 : particleSize;\r\n                    this.layer.addObject(new Particles(particlePosition, particleVelocity, lifeTime, particleSize))\r\n                }\r\n            }*/\r\n            var frame = _this.getCurrentFrame();\r\n            ctx.drawImage(_this.sprite.getInstance(), frame.x, frame.y, _this.body.width, _this.body.height, _this.position.x + window.camera.x * _this.layer.config.speed, 768 - _this.position.y - _this.body.height, _this.body.width, _this.body.height);\r\n        };\r\n        _this.getCurrentFrame = function () {\r\n            return _this.texture;\r\n        };\r\n        _this.position = position;\r\n        _this.body = new _body__WEBPACK_IMPORTED_MODULE_0__[\"Body\"](width, height);\r\n        _this.component = component;\r\n        _this.setTexture(component);\r\n        return _this;\r\n    }\r\n    Decoration = __decorate([\r\n        _collision__WEBPACK_IMPORTED_MODULE_3__[\"collision\"]\r\n    ], Decoration);\r\n    return Decoration;\r\n}(_unit_unit__WEBPACK_IMPORTED_MODULE_2__[\"Unit\"]));\r\n\r\n\n\n//# sourceURL=webpack:///./src/components/decoration.ts?");

/***/ }),

/***/ "./src/components/fireball.ts":
/*!************************************!*\
  !*** ./src/components/fireball.ts ***!
  \************************************/
/*! exports provided: Fireball */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Fireball\", function() { return Fireball; });\n/* harmony import */ var _body__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./body */ \"./src/components/body.ts\");\n/* harmony import */ var _unit_unit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./unit/unit */ \"./src/components/unit/unit.ts\");\n/* harmony import */ var _gravity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../gravity */ \"./src/gravity.ts\");\n/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../collision */ \"./src/collision.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n\r\n\r\nvar Fireball = /** @class */ (function (_super) {\r\n    __extends(Fireball, _super);\r\n    function Fireball(position, vector) {\r\n        var _this = this;\r\n        _this.body = new _body__WEBPACK_IMPORTED_MODULE_0__[\"Body\"](12, 12);\r\n        _this.vector = vector;\r\n        _this.velocity = { y: 0, x: 1 * _this.vector.x };\r\n        _this = _super.call(this) || this;\r\n        _this.position = position;\r\n        _this.trackable = true;\r\n        _this.action = 'default';\r\n        _this.speed = 32 * 10;\r\n        _this.lineWidth = 2;\r\n        _this.render = function (ctx) {\r\n            if (_this.collisions[90] || _this.collisions[270]) {\r\n                _this.vector.x = _this.vector.x * -1;\r\n            }\r\n            if (_this.collisions[180] || _this.collisions[270]) {\r\n                _this.velocity.y = 240 / window.framerate;\r\n            }\r\n            _this.getCurrentFrame();\r\n            ctx.beginPath();\r\n            ctx.fillStyle = '#ff7500';\r\n            ctx.strokeStyle = '#aa0000';\r\n            ctx.lineWidth = _this.lineWidth;\r\n            ctx.arc(_this.position.x + (_this.body.width / 2) + window.camera.x, 768 - _this.position.y - _this.body.height, _this.body.height / 2, 0, 2 * Math.PI, false);\r\n            ctx.fill();\r\n            ctx.stroke();\r\n        };\r\n        _this.getCurrentFrame = function () {\r\n            return _this.animations[_this.action].render();\r\n        };\r\n        _this.animations = {\r\n            'default': (function () {\r\n                var time = 0;\r\n                return {\r\n                    render: function () {\r\n                        time += 1;\r\n                        _this.velocity.x = _this.vector.x * _this.speed / window.framerate;\r\n                        if (time > window.framerate * 4)\r\n                            _this.layer.deleteObject(_this);\r\n                        return { x: 22 * 32 + 1, y: 33 };\r\n                    }\r\n                };\r\n            })()\r\n        };\r\n        return _this;\r\n    }\r\n    Fireball = __decorate([\r\n        _collision__WEBPACK_IMPORTED_MODULE_3__[\"collision\"],\r\n        _gravity__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\r\n    ], Fireball);\r\n    return Fireball;\r\n}(_unit_unit__WEBPACK_IMPORTED_MODULE_1__[\"Unit\"]));\r\n\r\n\n\n//# sourceURL=webpack:///./src/components/fireball.ts?");

/***/ }),

/***/ "./src/components/ground.ts":
/*!**********************************!*\
  !*** ./src/components/ground.ts ***!
  \**********************************/
/*! exports provided: Ground */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Ground\", function() { return Ground; });\n/* harmony import */ var _body__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./body */ \"./src/components/body.ts\");\n/* harmony import */ var _component_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component.ts */ \"./src/component.ts\");\n/* harmony import */ var _unit_unit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./unit/unit */ \"./src/components/unit/unit.ts\");\n/* harmony import */ var _particles__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./particles */ \"./src/components/particles.tsx\");\n/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../collision */ \"./src/collision.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n\r\n\r\n\r\nvar Ground = /** @class */ (function (_super) {\r\n    __extends(Ground, _super);\r\n    function Ground(position, width, height, component) {\r\n        var _this = _super.call(this) || this;\r\n        _this.sprite = new _component_ts__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"img\", { src: \"./src/img/environment.png\" });\r\n        _this.trackable = false;\r\n        _this.setTexture = function (component) {\r\n            switch (component) {\r\n                case 'g':\r\n                    _this.texture = { x: 0, y: 0 };\r\n                    break;\r\n                case 'b':\r\n                    _this.texture = { x: 64, y: 0 };\r\n                    break;\r\n                case 'B':\r\n                    _this.texture = { x: 32, y: 0 };\r\n                    break;\r\n                case '?':\r\n                    _this.texture = { x: 23 * 32, y: 0 };\r\n                    break;\r\n                case 'P':\r\n                    _this.texture = { x: 0, y: 320 };\r\n                    break;\r\n                case 'p':\r\n                    _this.texture = { x: 0, y: 288 };\r\n                    break;\r\n                /*case 'W':\r\n                  this.texture = {x: 0, y: 0};\r\n                  break;*/\r\n                case 'M':\r\n                    _this.texture = { x: 32 * 5, y: 32 * 13 };\r\n                    break;\r\n                case 'd':\r\n                    _this.texture = { x: 32, y: 96 };\r\n                    break;\r\n            }\r\n        };\r\n        _this.render = function (ctx) {\r\n            if (_this.collisions[180]) {\r\n                /*if (this.component === 'b') {\r\n                  this.position.y += 10\r\n                  this.layer.deleteObject(this, 2)\r\n                }*/\r\n            }\r\n            /*if (this.component === 'g' && this.collisions[0) {\r\n              this.position.y -= 1\r\n            }*/\r\n            if (_this.component == 'W') {\r\n                for (var i = 0; i < 1; i++) {\r\n                    var particlePosition = {\r\n                        x: _this.position.x + window.game.random(-30, 30) + _this.body.width / 2,\r\n                        y: _this.position.y + _this.body.height\r\n                    };\r\n                    var particleVelocity = { x: window.game.random(-50, 50) / 100, y: window.game.random(1, 2) };\r\n                    var lifeTime = window.game.random(1, 100);\r\n                    var particleSize = 14 - Math.ceil(lifeTime / 10);\r\n                    _this.layer.addObject(new _particles__WEBPACK_IMPORTED_MODULE_3__[\"Particles\"](particlePosition, particleVelocity, lifeTime, particleSize));\r\n                }\r\n            }\r\n            var frame = _this.getCurrentFrame();\r\n            ctx.drawImage(_this.sprite.getInstance(), frame.x, frame.y, _this.body.width, _this.body.height, _this.position.x + window.camera.x * _this.layer.config.speed, 768 - _this.position.y - _this.body.height, _this.body.width, _this.body.height);\r\n        };\r\n        _this.getCurrentFrame = function () {\r\n            return _this.texture;\r\n        };\r\n        _this.position = position;\r\n        _this.body = new _body__WEBPACK_IMPORTED_MODULE_0__[\"Body\"](width, height);\r\n        _this.component = component;\r\n        _this.setTexture(component);\r\n        return _this;\r\n    }\r\n    Ground = __decorate([\r\n        _collision__WEBPACK_IMPORTED_MODULE_4__[\"collision\"]\r\n    ], Ground);\r\n    return Ground;\r\n}(_unit_unit__WEBPACK_IMPORTED_MODULE_2__[\"Unit\"]));\r\n\r\n\n\n//# sourceURL=webpack:///./src/components/ground.ts?");

/***/ }),

/***/ "./src/components/jetpack.tsx":
/*!************************************!*\
  !*** ./src/components/jetpack.tsx ***!
  \************************************/
/*! exports provided: Jetpack */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Jetpack\", function() { return Jetpack; });\n/* harmony import */ var _body__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./body */ \"./src/components/body.ts\");\n/* harmony import */ var _unit_unit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./unit/unit */ \"./src/components/unit/unit.ts\");\n/* harmony import */ var _particles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./particles */ \"./src/components/particles.tsx\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (undefined && undefined.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\n\r\n\r\nvar Jetpack = /** @class */ (function (_super) {\r\n    __extends(Jetpack, _super);\r\n    function Jetpack(parent) {\r\n        var _this = this;\r\n        _this.trackable = false;\r\n        _this.active = false;\r\n        _this.render = function (ctx) {\r\n            var frame = _this.getCurrentFrame();\r\n            if (_this.active) {\r\n                for (var i = 0; i < 20; i++) {\r\n                    var particlePosition = { x: _this.position.x + window.game.random(-2, 2) + _this.body.width / 2, y: _this.position.y + 5 };\r\n                    var particleVelocity = { x: window.game.random(-250, 250) / 100, y: window.game.random(-4, 0) };\r\n                    var lifeTime = window.game.random(1, 20);\r\n                    var particleSize = 4 - Math.ceil(lifeTime / 10);\r\n                    _this.layer.addObject(new _particles__WEBPACK_IMPORTED_MODULE_2__[\"Particles\"](particlePosition, particleVelocity, lifeTime, particleSize));\r\n                }\r\n                _this.parent.velocity.y = 3.5;\r\n                var newVelocity = _this.parent.velocity.x * (1 + 1.01 / window.game.framerate);\r\n                _this.parent.velocity.x = Math.abs(newVelocity) < 8 ? newVelocity : _this.parent.velocity.x;\r\n            }\r\n            ctx.beginPath();\r\n            ctx.fillStyle = '#313131';\r\n            ctx.strokeStyle = '#000000';\r\n            ctx.lineWidth = 2;\r\n            ctx.rect(_this.getPosition().x + (_this.body.width / 2) + window.camera.x, 768 - _this.getPosition().y - _this.parent.body.height + 5, _this.body.width, _this.body.height);\r\n            ctx.fill();\r\n            ctx.stroke();\r\n        };\r\n        _this.getCurrentFrame = function () {\r\n            return _this.animations['default'].render();\r\n        };\r\n        _this.animations = {\r\n            'default': (function () {\r\n                var render = function () {\r\n                };\r\n                return { render: render };\r\n            })()\r\n        };\r\n        _this.parent = parent;\r\n        _this.body = new _body__WEBPACK_IMPORTED_MODULE_0__[\"Body\"](9, 18);\r\n        _this.getPosition();\r\n        return _this;\r\n    }\r\n    Jetpack.prototype.activate = function () {\r\n        this.active = true;\r\n    };\r\n    Jetpack.prototype.deactivate = function () {\r\n        this.active = false;\r\n    };\r\n    Jetpack.prototype.getPosition = function () {\r\n        var parentPosition = __assign({}, this.parent.position);\r\n        var x = this.parent.vector.x >= 0 ? parentPosition.x - this.body.width : parentPosition.x + this.parent.body.width - 8;\r\n        var y = parentPosition.y;\r\n        this.position = { x: x, y: y };\r\n        return this.position;\r\n    };\r\n    return Jetpack;\r\n}(_unit_unit__WEBPACK_IMPORTED_MODULE_1__[\"Unit\"]));\r\n\r\n\n\n//# sourceURL=webpack:///./src/components/jetpack.tsx?");

/***/ }),

/***/ "./src/components/mushroom.ts":
/*!************************************!*\
  !*** ./src/components/mushroom.ts ***!
  \************************************/
/*! exports provided: Mushroom */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Mushroom\", function() { return Mushroom; });\n/* harmony import */ var _body__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./body */ \"./src/components/body.ts\");\n/* harmony import */ var _component_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component.ts */ \"./src/component.ts\");\n/* harmony import */ var _unit_unit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./unit/unit */ \"./src/components/unit/unit.ts\");\n/* harmony import */ var _gravity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../gravity */ \"./src/gravity.ts\");\n/* harmony import */ var _fireball__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./fireball */ \"./src/components/fireball.ts\");\n/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../collision */ \"./src/collision.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __spreadArrays = (undefined && undefined.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar Mushroom = /** @class */ (function (_super) {\r\n    __extends(Mushroom, _super);\r\n    function Mushroom(position) {\r\n        var _this = this;\r\n        _this.body = new _body__WEBPACK_IMPORTED_MODULE_0__[\"Body\"](32, 32);\r\n        _this = _super.call(this) || this;\r\n        _this.position = position;\r\n        _this.sprite = new _component_ts__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"img\", { src: \"./src/img/environment.png\" });\r\n        _this.trackable = true;\r\n        _this.action = 'default';\r\n        _this.velocity = { y: 0, x: 1 };\r\n        _this.speed = 32 * 3;\r\n        _this.vector = {\r\n            x: 1,\r\n            y: 1\r\n        };\r\n        _this.render = function (ctx) {\r\n            if (_this.collisions[90] || _this.collisions[270]) {\r\n                _this.vector.x = _this.vector.x * -1;\r\n                if (__spreadArrays((_this.collisions[90] || []), (_this.collisions[270] || [])).some(function (element) { return element instanceof _fireball__WEBPACK_IMPORTED_MODULE_4__[\"Fireball\"]; })) {\r\n                    _this.layer.deleteObject(_this);\r\n                }\r\n            }\r\n            var frame = _this.getCurrentFrame();\r\n            ctx.drawImage(_this.sprite.getInstance(), frame.x, frame.y, _this.body.width, _this.body.height, _this.position.x + window.camera.x, 768 - _this.position.y - _this.body.height, _this.body.width, _this.body.height);\r\n        };\r\n        _this.getCurrentFrame = function () {\r\n            return _this.animations[_this.action].render();\r\n        };\r\n        _this.animations = {\r\n            'default': (function () {\r\n                return { render: function () {\r\n                        _this.velocity.x = _this.vector.x * _this.speed / window.framerate;\r\n                        return { x: 22 * 32 + 1, y: 32 };\r\n                    } };\r\n            })()\r\n        };\r\n        return _this;\r\n    }\r\n    Mushroom = __decorate([\r\n        _collision__WEBPACK_IMPORTED_MODULE_5__[\"collision\"],\r\n        _gravity__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\r\n    ], Mushroom);\r\n    return Mushroom;\r\n}(_unit_unit__WEBPACK_IMPORTED_MODULE_2__[\"Unit\"]));\r\n\r\n\n\n//# sourceURL=webpack:///./src/components/mushroom.ts?");

/***/ }),

/***/ "./src/components/particles.tsx":
/*!**************************************!*\
  !*** ./src/components/particles.tsx ***!
  \**************************************/
/*! exports provided: Particles */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Particles\", function() { return Particles; });\n/* harmony import */ var _body__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./body */ \"./src/components/body.ts\");\n/* harmony import */ var _unit_unit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./unit/unit */ \"./src/components/unit/unit.ts\");\n/* harmony import */ var _gravity__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../gravity */ \"./src/gravity.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n\r\nvar Particles = /** @class */ (function (_super) {\r\n    __extends(Particles, _super);\r\n    function Particles(position, velocity, lifetime, size) {\r\n        if (lifetime === void 0) { lifetime = 30; }\r\n        var _this = this;\r\n        _this.position = position;\r\n        _this.velocity = velocity;\r\n        _this.lifetime = lifetime;\r\n        _this.body = new _body__WEBPACK_IMPORTED_MODULE_0__[\"Body\"](size, size);\r\n        _this = _super.call(this) || this;\r\n        _this.trackable = false;\r\n        _this.action = 'wait';\r\n        _this.render = function (ctx) {\r\n            var frame = _this.getCurrentFrame();\r\n            ctx.beginPath();\r\n            switch (_this.body.width) {\r\n                case 1:\r\n                    ctx.strokeStyle = '#ffcda5';\r\n                    break;\r\n                case 2:\r\n                    ctx.strokeStyle = '#ffb474';\r\n                    break;\r\n                case 3:\r\n                    ctx.strokeStyle = '#ff9554';\r\n                    break;\r\n                default:\r\n                    ctx.strokeStyle = '#69aaff';\r\n            }\r\n            ctx.lineWidth = 2;\r\n            ctx.arc(_this.position.x + (_this.body.width / 2) + window.camera.x * _this.layer.config.speed, 768 - _this.position.y - _this.body.height, _this.body.height / 2, 0, 2 * Math.PI, false);\r\n            ctx.fill();\r\n            ctx.stroke();\r\n        };\r\n        _this.getCurrentFrame = function () {\r\n            return _this.animations['default'].render();\r\n        };\r\n        _this.animations = {\r\n            'default': (function () {\r\n                var frames = [\r\n                    { x: 23 * 32, y: 32 },\r\n                    { x: 24 * 32, y: 32 },\r\n                    { x: 25 * 32, y: 32 },\r\n                ];\r\n                var frame = 0;\r\n                var time = 0;\r\n                var render = function () {\r\n                    time += 1;\r\n                    if (time % 2 / window.framerate == 0) {\r\n                        frame += 1;\r\n                        frame = frame < frames.length ? frame : 0;\r\n                    }\r\n                    time += 1;\r\n                    if (time >= _this.lifetime) {\r\n                        _this.layer.deleteObject(_this);\r\n                    }\r\n                    return frames[frame];\r\n                };\r\n                return { render: render };\r\n            })()\r\n        };\r\n        return _this;\r\n    }\r\n    Particles = __decorate([\r\n        _gravity__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\r\n    ], Particles);\r\n    return Particles;\r\n}(_unit_unit__WEBPACK_IMPORTED_MODULE_1__[\"Unit\"]));\r\n\r\n\n\n//# sourceURL=webpack:///./src/components/particles.tsx?");

/***/ }),

/***/ "./src/components/text/text.ts":
/*!*************************************!*\
  !*** ./src/components/text/text.ts ***!
  \*************************************/
/*! exports provided: Text */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Text\", function() { return Text; });\nvar Text = /** @class */ (function () {\r\n    function Text(position, props) {\r\n        var _this = this;\r\n        this.props = props;\r\n        this.setTextStyle = function (ctx) {\r\n            ctx.font = \"22px verdana\";\r\n            ctx.fillStyle = \"#ffffff\";\r\n            if (!_this.props || !_this.props.hasOwnProperty('style'))\r\n                return;\r\n            Object.keys(_this.props.style).forEach(function (key) {\r\n                switch (key) {\r\n                    case 'fillStyle':\r\n                        ctx.fillStyle = _this.props.style[key];\r\n                        break;\r\n                    case 'font':\r\n                        ctx.font = _this.props.style[key];\r\n                        break;\r\n                }\r\n            });\r\n        };\r\n        this.render = function (ctx) {\r\n            _this.setTextStyle(ctx);\r\n            ctx.fillText(_this.props.text, _this.position.x, _this.position.y);\r\n        };\r\n        this.position = position;\r\n    }\r\n    return Text;\r\n}());\r\n\r\n\n\n//# sourceURL=webpack:///./src/components/text/text.ts?");

/***/ }),

/***/ "./src/components/turtle.ts":
/*!**********************************!*\
  !*** ./src/components/turtle.ts ***!
  \**********************************/
/*! exports provided: Turtle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Turtle\", function() { return Turtle; });\n/* harmony import */ var _body__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./body */ \"./src/components/body.ts\");\n/* harmony import */ var _component_ts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../component.ts */ \"./src/component.ts\");\n/* harmony import */ var _unit_unit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./unit/unit */ \"./src/components/unit/unit.ts\");\n/* harmony import */ var _fireball__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fireball */ \"./src/components/fireball.ts\");\n/* harmony import */ var _coin__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./coin */ \"./src/components/coin.ts\");\n/* harmony import */ var _gravity__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../gravity */ \"./src/gravity.ts\");\n/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../collision */ \"./src/collision.ts\");\n/* harmony import */ var _unit_enemy__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./unit/enemy */ \"./src/components/unit/enemy.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __spreadArrays = (undefined && undefined.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar Turtle = /** @class */ (function (_super) {\r\n    __extends(Turtle, _super);\r\n    function Turtle(position, width, height) {\r\n        var _this = this;\r\n        _this.position = position;\r\n        _this.body = new _body__WEBPACK_IMPORTED_MODULE_0__[\"Body\"](width, height);\r\n        _this = _super.call(this) || this;\r\n        _this.sprite = new _component_ts__WEBPACK_IMPORTED_MODULE_1__[\"default\"](\"img\", { src: \"./src/img/enemies.png\" });\r\n        _this.trackable = true;\r\n        _this.action = 'default';\r\n        _this.velocity = { y: 0, x: 1 };\r\n        _this.speed = 64;\r\n        _this.vector = {\r\n            x: -1,\r\n            y: 0\r\n        };\r\n        _this.render = function (ctx) {\r\n            if (_this.collisions[0] && _this.action !== 'die') {\r\n                _this.setAction('die');\r\n                _this.collisions[0][0].velocity.y += 7;\r\n                _this.layer.addObject(new _coin__WEBPACK_IMPORTED_MODULE_4__[\"Coin\"]({ x: _this.position.x, y: _this.position.y + 32 }));\r\n            }\r\n            var hasXCollision = _this.collisions[90] || _this.collisions[270];\r\n            if (hasXCollision) {\r\n                var collisionObject = _this.collisions[90] ? _this.collisions[90][0] : _this.collisions[270][0];\r\n                if (_this.action !== 'die') {\r\n                    if (__spreadArrays((_this.collisions[90] || []), (_this.collisions[270] || [])).some(function (element) { return element instanceof _fireball__WEBPACK_IMPORTED_MODULE_3__[\"Fireball\"]; })) {\r\n                        _this.setAction('die');\r\n                    }\r\n                    if (collisionObject.hasOwnProperty('enemy') && collisionObject.enemy !== _this.enemy) {\r\n                        collisionObject.dispatchEvent('damage', { value: collisionObject.health });\r\n                    }\r\n                }\r\n                if (_this.action === 'die' && collisionObject.hasOwnProperty('enemy')) {\r\n                    if (collisionObject.enemy === _this.enemy) {\r\n                        collisionObject.setAction('die');\r\n                        _this.layer.addObject(new _coin__WEBPACK_IMPORTED_MODULE_4__[\"Coin\"]({ x: _this.position.x, y: _this.position.y + 32 }));\r\n                    }\r\n                    else if (_this.velocity.x) {\r\n                        console.log(_this);\r\n                        collisionObject.dispatchEvent('damage', { value: collisionObject.health });\r\n                    }\r\n                }\r\n                if (!_this.velocity.x)\r\n                    _this.velocity.x = _this.vector.x * _this.speed * 4 / window.framerate;\r\n                _this.vector.x = _this.vector.x * -1;\r\n            }\r\n            _this.position.y += _this.velocity.y / 12;\r\n            var frame = _this.getCurrentFrame();\r\n            ctx.drawImage(_this.sprite.getInstance(), frame.x, frame.y, _this.body.width, _this.body.height, _this.position.x + window.camera.x, 768 - _this.position.y - _this.body.height, _this.body.width, _this.body.height);\r\n        };\r\n        _this.getCurrentFrame = function () {\r\n            return _this.animations[_this.action].render();\r\n        };\r\n        _this.animations = {\r\n            'default': (function () {\r\n                var frames = [\r\n                    { x: 32 * 7, y: 16 },\r\n                    { x: 32 * 8, y: 16 },\r\n                ];\r\n                var frame = 0;\r\n                var time = 0;\r\n                return {\r\n                    render: function () {\r\n                        time += 1;\r\n                        if (time % 15 / window.framerate == 0) {\r\n                            frame += 1;\r\n                            frame = frame < frames.length ? frame : 0;\r\n                        }\r\n                        _this.velocity.x = _this.vector.x * _this.speed / window.framerate;\r\n                        return frames[frame];\r\n                    }\r\n                };\r\n            })(),\r\n            'die': (function () {\r\n                var time = 0;\r\n                return {\r\n                    render: function () {\r\n                        if (!time) {\r\n                            _this.velocity.x = 0;\r\n                            _this.body.height = 32;\r\n                        }\r\n                        time += 1;\r\n                        return { x: 32 * 11, y: 32 };\r\n                    }\r\n                };\r\n            })()\r\n        };\r\n        return _this;\r\n    }\r\n    Turtle = __decorate([\r\n        _collision__WEBPACK_IMPORTED_MODULE_6__[\"collision\"],\r\n        _gravity__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\r\n        Object(_unit_enemy__WEBPACK_IMPORTED_MODULE_7__[\"enemy\"])(1)\r\n    ], Turtle);\r\n    return Turtle;\r\n}(_unit_unit__WEBPACK_IMPORTED_MODULE_2__[\"Unit\"]));\r\n\r\n\n\n//# sourceURL=webpack:///./src/components/turtle.ts?");

/***/ }),

/***/ "./src/components/unit/enemy.ts":
/*!**************************************!*\
  !*** ./src/components/unit/enemy.ts ***!
  \**************************************/
/*! exports provided: enemy */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"enemy\", function() { return enemy; });\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nfunction enemy(group) {\r\n    return function test(target) {\r\n        return /** @class */ (function (_super) {\r\n            __extends(class_1, _super);\r\n            function class_1() {\r\n                var _this = _super !== null && _super.apply(this, arguments) || this;\r\n                _this.enemy = group;\r\n                return _this;\r\n            }\r\n            return class_1;\r\n        }(target));\r\n    };\r\n}\r\n\n\n//# sourceURL=webpack:///./src/components/unit/enemy.ts?");

/***/ }),

/***/ "./src/components/unit/mario.ts":
/*!**************************************!*\
  !*** ./src/components/unit/mario.ts ***!
  \**************************************/
/*! exports provided: Mario */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Mario\", function() { return Mario; });\n/* harmony import */ var _unit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./unit */ \"./src/components/unit/unit.ts\");\n/* harmony import */ var _body__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../body */ \"./src/components/body.ts\");\n/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../component */ \"./src/component.ts\");\n/* harmony import */ var _gravity__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../gravity */ \"./src/gravity.ts\");\n/* harmony import */ var _fireball__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../fireball */ \"./src/components/fireball.ts\");\n/* harmony import */ var _particles__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../particles */ \"./src/components/particles.tsx\");\n/* harmony import */ var _jetpack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../jetpack */ \"./src/components/jetpack.tsx\");\n/* harmony import */ var _collision__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../collision */ \"./src/collision.ts\");\n/* harmony import */ var _enemy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./enemy */ \"./src/components/unit/enemy.ts\");\n/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../state */ \"./src/state.ts\");\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (undefined && undefined.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar Mario = /** @class */ (function (_super) {\r\n    __extends(Mario, _super);\r\n    function Mario(controller, position, layer) {\r\n        var _this = _super.call(this) || this;\r\n        _this.name = 'Mario';\r\n        _this.speed = 32 * 7;\r\n        _this.health = 100;\r\n        _this.weight = 80;\r\n        _this.trackable = true;\r\n        _this.body = new _body__WEBPACK_IMPORTED_MODULE_1__[\"Body\"](31, 31);\r\n        _this.sprite = new _component__WEBPACK_IMPORTED_MODULE_2__[\"default\"](\"img\", { src: \"./src/img/mario.png\" });\r\n        _this.action = \"stay\";\r\n        _this.setDamage = function (props) {\r\n            _this.health -= props.value;\r\n            _state__WEBPACK_IMPORTED_MODULE_9__[\"store\"].set('health', _this.health);\r\n            if (_this.health <= 0) {\r\n                window.game.pause();\r\n                window.gameManager.reload();\r\n            }\r\n        };\r\n        _this.controllerEventHandler = function (event, active) {\r\n            if (active) {\r\n                switch (event) {\r\n                    case \"RIGHT\":\r\n                        _this.setAction(\"walk\");\r\n                        _this.animations.walk.clear();\r\n                        _this.vector.x = 1;\r\n                        break;\r\n                    case \"LEFT\":\r\n                        _this.setAction(\"walk\");\r\n                        _this.vector.x = -1;\r\n                        _this.animations.walk.clear();\r\n                        break;\r\n                    case \"JUMP\":\r\n                        if (!_this.collisions[180])\r\n                            break;\r\n                        _this.animations.jump.clear();\r\n                        _this.setAction(\"jump\");\r\n                        break;\r\n                    case \"DOWN\":\r\n                        _this.setAction(\"sit\");\r\n                        break;\r\n                    case \"FLY\":\r\n                        _this.setAction(\"fly\");\r\n                        break;\r\n                    case \"ATTACk\":\r\n                        _this.layer.addObject(new _fireball__WEBPACK_IMPORTED_MODULE_4__[\"Fireball\"]({ x: _this.position.x + (_this.vector.x > 0 ? _this.body.width + _this.velocity.x * 2 : -25), y: _this.position.y }, __assign(__assign({}, _this.vector), { y: 1 })));\r\n                        break;\r\n                    default:\r\n                        _this.setAction(\"stay\");\r\n                        break;\r\n                }\r\n            }\r\n            else {\r\n                if (_this.controller.actions.length == 0) {\r\n                    _this.setAction(\"stay\");\r\n                }\r\n                else {\r\n                    _this.controllerEventHandler(_this.controller.actions[0], true);\r\n                }\r\n                if (event === 'FLY') {\r\n                    _this.jetpack.deactivate();\r\n                }\r\n            }\r\n        };\r\n        _this.velocity = {\r\n            x: 0,\r\n            y: 0\r\n        };\r\n        _this.vector = {\r\n            x: 1,\r\n            y: 0\r\n        };\r\n        _this.animations = {\r\n            'walk': (function () {\r\n                var frames_right = [\r\n                    { x: 32, y: 96 },\r\n                    { x: 64, y: 96 },\r\n                    { x: 96, y: 96 },\r\n                ];\r\n                var frames_left = [\r\n                    { x: 608, y: 480 },\r\n                    { x: 576, y: 480 },\r\n                    { x: 544, y: 480 },\r\n                ];\r\n                var frame = 0;\r\n                var time = 0;\r\n                var render = function () {\r\n                    var maxVelocity = _this.getMaxVelocity();\r\n                    if (time < window.framerate && Math.abs(_this.velocity.x) < Math.abs(maxVelocity)) {\r\n                        var newVelocity = _this.vector.x * ((100 - (window.framerate - time)) / 100 * _this.speed) / window.framerate;\r\n                        _this.velocity.x = Math.abs(_this.velocity.x) > Math.abs(newVelocity) ? _this.velocity.x : newVelocity;\r\n                        _this.velocity.x = Math.floor(_this.velocity.x * 100) / 100;\r\n                    }\r\n                    else {\r\n                        _this.velocity.x = maxVelocity;\r\n                    }\r\n                    var frames = _this.vector.x > 0 ? frames_right : frames_left;\r\n                    frame = frame < frames.length - 1 ? frame : 0;\r\n                    var position = frames[frame];\r\n                    time += 1;\r\n                    if (time % (3 * (Math.ceil((Math.abs(maxVelocity) - Math.abs(_this.velocity.x)) + 1))) / (window.framerate) == 0)\r\n                        frame += 1;\r\n                    if (_this.vector.x !== Math.sign(_this.velocity.x)) {\r\n                        return _this.vector.x > 0 ? { x: 128, y: 96 } : { x: 516, y: 480 };\r\n                    }\r\n                    return position;\r\n                };\r\n                return { render: render, clear: function () { time = 0; } };\r\n            })(),\r\n            'jump': (function () {\r\n                var time = 0;\r\n                var render = function () {\r\n                    if (time == 0) {\r\n                        _this.velocity.y = 18;\r\n                    }\r\n                    time += 1;\r\n                    return _this.vector.x > 0 ? { x: 160, y: 96 } : { x: 480, y: 480 };\r\n                };\r\n                return { render: render, clear: function () { time = 0; } };\r\n            })(),\r\n            'stay': {\r\n                render: function () {\r\n                    _this.velocity.x = 0;\r\n                    return _this.vector.x > 0 ? { x: 0, y: 96 } : { x: 640, y: 480 };\r\n                },\r\n            },\r\n            'fly': {\r\n                render: function () {\r\n                    _this.jetpack.activate();\r\n                    return _this.vector.x > 0 ? { x: 224, y: 96 } : { x: 416, y: 480 };\r\n                },\r\n                clear: function () {\r\n                }\r\n            },\r\n            'sit': {\r\n                render: function () {\r\n                    return _this.vector.x > 0 ? { x: 224, y: 96 } : { x: 416, y: 480 };\r\n                },\r\n                clear: function () { }\r\n            }\r\n        };\r\n        _this.setAction = function (variant) {\r\n            _this.action = variant;\r\n        };\r\n        _this.getCurrentFrame = function () {\r\n            return _this.animations[_this.action].render();\r\n        };\r\n        _this.render = function (ctx) {\r\n            var frame = _this.getCurrentFrame();\r\n            if (_this.collisions[180] && Math.abs(_this.velocity.x)) {\r\n                for (var i = 0; i < 1; i++) {\r\n                    var particlePosition = { x: _this.position.x + (_this.velocity.x > 0 ? 0 : _this.body.width) + window.game.random(-8, 8), y: _this.position.y };\r\n                    var particleVelocity = { x: 1 * _this.vector.x * -1, y: 3 };\r\n                    var lifeTime = window.game.random(3, Math.abs(_this.velocity.x) * 600 / _this.speed);\r\n                    var particleSize = 1;\r\n                    _this.layer.addObject(new _particles__WEBPACK_IMPORTED_MODULE_5__[\"Particles\"](particlePosition, particleVelocity, lifeTime, particleSize));\r\n                }\r\n            }\r\n            ctx.drawImage(_this.sprite.getInstance(), frame.x, frame.y, _this.body.width, _this.body.height, _this.position.x + window.camera.x, 768 - _this.position.y - _this.body.height, _this.body.width, _this.body.height);\r\n        };\r\n        _this.controller = controller;\r\n        _this.position = position;\r\n        _this.start = __assign({}, position);\r\n        _this.controller.addEventHandler(_this.controllerEventHandler);\r\n        _this.jetpack = new _jetpack__WEBPACK_IMPORTED_MODULE_6__[\"Jetpack\"](_this);\r\n        layer.addObject(_this.jetpack);\r\n        _this.addEventListener('damage', _this.setDamage);\r\n        _state__WEBPACK_IMPORTED_MODULE_9__[\"store\"].set('player', _this);\r\n        return _this;\r\n    }\r\n    Mario.prototype.getMaxVelocity = function () {\r\n        return this.vector.x * this.speed / 60;\r\n    };\r\n    Mario = __decorate([\r\n        _collision__WEBPACK_IMPORTED_MODULE_7__[\"collision\"],\r\n        _gravity__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\r\n        Object(_enemy__WEBPACK_IMPORTED_MODULE_8__[\"enemy\"])(0)\r\n    ], Mario);\r\n    return Mario;\r\n}(_unit__WEBPACK_IMPORTED_MODULE_0__[\"Unit\"]));\r\n\r\n;\r\n\n\n//# sourceURL=webpack:///./src/components/unit/mario.ts?");

/***/ }),

/***/ "./src/components/unit/unit.ts":
/*!*************************************!*\
  !*** ./src/components/unit/unit.ts ***!
  \*************************************/
/*! exports provided: Unit */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Unit\", function() { return Unit; });\nvar Unit = /** @class */ (function () {\r\n    function Unit() {\r\n        var _this = this;\r\n        this.collisions = {};\r\n        this.eventListeners = {};\r\n        this.clearCollisions = function () {\r\n            _this.collisions = {};\r\n        };\r\n        this.setAction = function (action) {\r\n            _this.action = action;\r\n        };\r\n        this.setCollision = function (direction, object) {\r\n            if (!_this.collisions.hasOwnProperty(direction))\r\n                _this.collisions[direction] = [];\r\n            _this.collisions[direction].push(object);\r\n        };\r\n        this.dispatchEvent = function (eventName, props) {\r\n            if (_this.eventListeners.hasOwnProperty(eventName)) {\r\n                _this.eventListeners[eventName].forEach(function (fn) { return fn(props); });\r\n            }\r\n        };\r\n        this.addEventListener = function (eventName, callback) {\r\n            if (!_this.eventListeners.hasOwnProperty(eventName)) {\r\n                _this.eventListeners[eventName] = [];\r\n            }\r\n            _this.eventListeners[eventName].push(callback);\r\n        };\r\n    }\r\n    return Unit;\r\n}());\r\n\r\n\n\n//# sourceURL=webpack:///./src/components/unit/unit.ts?");

/***/ }),

/***/ "./src/game.ts":
/*!*********************!*\
  !*** ./src/game.ts ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./component */ \"./src/component.ts\");\n/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./state */ \"./src/state.ts\");\n\r\n\r\nvar Game = /** @class */ (function () {\r\n    function Game(collisionChecker) {\r\n        this.collisionChecker = collisionChecker;\r\n        this.referenceFrameRate = 60;\r\n        this.paused = false;\r\n        this.layers = [];\r\n        this.framerate = 0;\r\n        this.processDate = new Date;\r\n        this.frame = function () {\r\n            var _this = this;\r\n            this.trackable = false,\r\n                this.render = function (ctx) {\r\n                    ctx.measureText(_this.framerate);\r\n                };\r\n            return this;\r\n        };\r\n        this.setWindow();\r\n    }\r\n    Game.prototype.start = function () {\r\n        this.paused = false;\r\n        this.setProcessDate();\r\n        this.process();\r\n    };\r\n    Game.prototype.pause = function () {\r\n        this.paused = true;\r\n        this.clearFrame();\r\n    };\r\n    Game.prototype.setProcessDate = function () {\r\n        this.processDate = new Date();\r\n    };\r\n    Game.prototype.setWindow = function () {\r\n        this.canvas = new _component__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\"canvas\", {\r\n            width: 1280,\r\n            height: 768,\r\n        });\r\n        this.window = this.canvas.getInstance();\r\n        this.scene = this.window.getContext(\"2d\");\r\n        this.canvas.render(document.body);\r\n    };\r\n    Game.prototype.getFrameRate = function () {\r\n        this.framerate = parseInt(1000 / ((new Date() - this.processDate)));\r\n        _state__WEBPACK_IMPORTED_MODULE_1__[\"store\"].set('framerate', this.framerate);\r\n        window.framerate = this.framerate < this.referenceFrameRate\r\n            ? this.framerate\r\n            : this.referenceFrameRate;\r\n        return window.framerate;\r\n    };\r\n    Game.prototype.setCamera = function () {\r\n        window.camera = { x: _state__WEBPACK_IMPORTED_MODULE_1__[\"store\"].state.player.start.x - _state__WEBPACK_IMPORTED_MODULE_1__[\"store\"].state.player.position.x, y: _state__WEBPACK_IMPORTED_MODULE_1__[\"store\"].state.player.start.y - _state__WEBPACK_IMPORTED_MODULE_1__[\"store\"].state.player.position.y + 64 };\r\n        if (window.camera.x > 0)\r\n            window.camera.x = 0;\r\n    };\r\n    Game.prototype.process = function () {\r\n        var _this = this;\r\n        this.getFrameRate();\r\n        this.setProcessDate();\r\n        this.clearScene();\r\n        this.setCamera();\r\n        this.layers.forEach(function (layer) {\r\n            var objects = layer.objects;\r\n            var trackableObjects = layer.trackableObjects;\r\n            objects\r\n                .filter(function (element) { return element.hasOwnProperty('getAABB'); })\r\n                .forEach(function (trackObject) {\r\n                trackObject.clearCollisions();\r\n            });\r\n            trackableObjects.forEach(function (trackObject) {\r\n                objects\r\n                    .filter(function (element) { return element.hasOwnProperty('getAABB'); })\r\n                    .forEach(function (element) {\r\n                    if (element === trackObject)\r\n                        return;\r\n                    var collision = { x: 0, y: 0 };\r\n                    if (_this.collisionChecker.hasCollision(trackObject.getAABB(), element.getAABB())) {\r\n                        if (_this.collisionChecker.checkTop(trackObject, element)) {\r\n                            collision.y = 1;\r\n                            trackObject.setCollision(0, element);\r\n                            element.setCollision(180, trackObject);\r\n                        }\r\n                        if (_this.collisionChecker.checkBottom(trackObject, element) && !collision.y) {\r\n                            collision.y = -1;\r\n                            trackObject.setCollision(180, element);\r\n                            element.setCollision(0, trackObject);\r\n                            /*if (element.hasOwnProperty('velocity') && element.velocity.x) {\r\n                                trackObject.velocity.x += element.velocity.x;\r\n                            }*/\r\n                        }\r\n                        if (_this.collisionChecker.checkRight(trackObject, element) && !collision.y) {\r\n                            collision.x = 1;\r\n                            trackObject.setCollision(90, element);\r\n                            element.setCollision(270, trackObject);\r\n                        }\r\n                        if (_this.collisionChecker.checkLeft(trackObject, element) && !collision.y) {\r\n                            trackObject.setCollision(270, element);\r\n                            element.setCollision(90, trackObject);\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n            objects\r\n                .filter(function (element) { return element.gravity; })\r\n                .forEach(function (trackObject) {\r\n                if (!trackObject.collisions[180]) {\r\n                    if (trackObject.velocity.y > -32 * 4.5) {\r\n                        trackObject.velocity.y -= 40 / (window.framerate);\r\n                    }\r\n                    else {\r\n                        trackObject.velocity.y = -32 * 4.5;\r\n                    }\r\n                    trackObject.position.y += trackObject.velocity.y;\r\n                }\r\n            });\r\n            trackableObjects.forEach(function (trackObject) {\r\n                if (trackObject.collisions[180]) {\r\n                    trackObject.velocity.y = 0;\r\n                    trackObject.position.y = trackObject.collisions[180][0].getAABB().max.y;\r\n                }\r\n                else if (trackObject.collisions[0]) {\r\n                    trackObject.velocity.y = 0;\r\n                    trackObject.position.y = trackObject.collisions[0][0].getAABB().min.y - trackObject.body.height;\r\n                }\r\n                if (trackObject.collisions[90]) {\r\n                    trackObject.velocity.x = 0;\r\n                }\r\n                else if (trackObject.collisions[270]) {\r\n                    trackObject.velocity.x = 0;\r\n                }\r\n            });\r\n            objects.forEach(function (element) {\r\n                if (element.velocity && element.velocity.x)\r\n                    element.position.x += element.velocity.x;\r\n                element.render(_this.scene);\r\n            });\r\n        });\r\n        if (!this.paused)\r\n            this.frameTimeout = setTimeout(this.process.bind(this), 1000 / this.getFrameRate());\r\n    };\r\n    Game.prototype.clearFrame = function () {\r\n        clearTimeout(this.frameTimeout);\r\n    };\r\n    Game.prototype.random = function (min, max) {\r\n        return Math.floor(Math.random() * (max - min)) + min;\r\n    };\r\n    Game.prototype.clearScene = function () {\r\n        this.scene.clearRect(0, 0, this.window.width, this.window.height);\r\n        this.scene.fillStyle = '#0a0a0a';\r\n        //this.scene.fillStyle = '#4f98f8';\r\n        var gradient = this.scene.createLinearGradient(300, 600, 300, 0);\r\n        gradient.addColorStop(0, 'rgba(79, 152, 248, 1)');\r\n        gradient.addColorStop(0.31, 'rgba(32, 111, 187, 1)');\r\n        gradient.addColorStop(0.9, 'rgba(9, 33, 56, 1)');\r\n        this.scene.fillStyle = gradient;\r\n        this.scene.fillRect(0, 0, this.window.width, this.window.height);\r\n    };\r\n    return Game;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Game);\r\n\n\n//# sourceURL=webpack:///./src/game.ts?");

/***/ }),

/***/ "./src/gameManager.ts":
/*!****************************!*\
  !*** ./src/gameManager.ts ***!
  \****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _layer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./layer */ \"./src/layer.ts\");\n/* harmony import */ var _components_ground__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/ground */ \"./src/components/ground.ts\");\n/* harmony import */ var _components_bonus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/bonus */ \"./src/components/bonus.ts\");\n/* harmony import */ var _components_unit_mario__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/unit/mario */ \"./src/components/unit/mario.ts\");\n/* harmony import */ var _components_crow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/crow */ \"./src/components/crow.ts\");\n/* harmony import */ var _components_decoration__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/decoration */ \"./src/components/decoration.ts\");\n/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./state */ \"./src/state.ts\");\n/* harmony import */ var _menuLayer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./menuLayer */ \"./src/menuLayer.ts\");\n/* harmony import */ var _components_turtle__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/turtle */ \"./src/components/turtle.ts\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar GameManager = /** @class */ (function () {\r\n    function GameManager(game, keyboardController) {\r\n        var _this = this;\r\n        this.controllerEventHandler = function (event, active) {\r\n            if (!active)\r\n                return;\r\n            switch (event) {\r\n                case \"PAUSE\":\r\n                    if (!_this.game.paused)\r\n                        _this.game.pause();\r\n                    else\r\n                        _this.game.start();\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        };\r\n        this.game = game;\r\n        this.keyboardController = keyboardController;\r\n        this.keyboardController.addEventHandler(this.controllerEventHandler);\r\n    }\r\n    GameManager.prototype.reload = function () {\r\n        var _this = this;\r\n        this.game.layers = [];\r\n        this.game.clearScene();\r\n        this.game.clearFrame();\r\n        setTimeout(function () { return _this.loadLevel(_this.level); }, 100);\r\n    };\r\n    GameManager.prototype.loadLevel = function (level) {\r\n        var _this = this;\r\n        this.level = level;\r\n        window.framerate = 0;\r\n        window.camera = { x: 640, y: 384 };\r\n        var layers = level.split('>');\r\n        layers.reverse().forEach(function (layer_text, layer_code) {\r\n            var rows = layer_text.split('\\r\\n').reverse();\r\n            if (rows.length <= 1)\r\n                return;\r\n            var layerConfig = JSON.parse(rows.splice(0, 2)[1]);\r\n            var layer = new _layer__WEBPACK_IMPORTED_MODULE_0__[\"default\"](layer_code, layerConfig);\r\n            _this.game.layers.push(layer);\r\n            rows.forEach(function (row, y) {\r\n                y += -1;\r\n                if (row.length === 0)\r\n                    return;\r\n                row.split('').forEach(function (symbol, x) {\r\n                    switch (symbol) {\r\n                        case 'g':\r\n                        case 'b':\r\n                        case 'B':\r\n                        case 'd':\r\n                            layer.addObject(new _components_ground__WEBPACK_IMPORTED_MODULE_1__[\"Ground\"]({\r\n                                x: x * 32,\r\n                                y: y * 32,\r\n                            }, 32, 32, symbol));\r\n                            break;\r\n                        case '?':\r\n                        case '*':\r\n                            layer.addObject(new _components_bonus__WEBPACK_IMPORTED_MODULE_2__[\"Bonus\"]({\r\n                                x: x * 32,\r\n                                y: y * 32,\r\n                            }, 32, 32, symbol));\r\n                            break;\r\n                        case 'm':\r\n                            var mario = new _components_unit_mario__WEBPACK_IMPORTED_MODULE_3__[\"Mario\"](_this.keyboardController, { x: x * 32, y: y * 32 }, layer);\r\n                            layer.addObject(mario);\r\n                            break;\r\n                        case 'c':\r\n                            var crow = new _components_crow__WEBPACK_IMPORTED_MODULE_4__[\"Crow\"]({ x: x * 32, y: y * 32 }, 32, 32);\r\n                            layer.addObject(crow);\r\n                            break;\r\n                        case 't':\r\n                            var turtle = new _components_turtle__WEBPACK_IMPORTED_MODULE_8__[\"Turtle\"]({ x: x * 32, y: y * 32 }, 32, 48);\r\n                            layer.addObject(turtle);\r\n                            break;\r\n                        case 'p':\r\n                            layer.addObject(new _components_ground__WEBPACK_IMPORTED_MODULE_1__[\"Ground\"]({\r\n                                x: x * 32,\r\n                                y: y * 32,\r\n                            }, 64, 32, symbol));\r\n                            break;\r\n                        case 'P':\r\n                            layer.addObject(new _components_ground__WEBPACK_IMPORTED_MODULE_1__[\"Ground\"]({\r\n                                x: x * 32,\r\n                                y: y * 32,\r\n                            }, 64, 32, symbol));\r\n                            break;\r\n                        /*case 'p':\r\n                            layer.addObject(\r\n                                new Ground({\r\n                                    x: x * 32,\r\n                                    y: y * 32,\r\n                                }, 32, 0, symbol)\r\n                            );\r\n                            break;*/\r\n                        case 'M':\r\n                            layer.addObject(new _components_ground__WEBPACK_IMPORTED_MODULE_1__[\"Ground\"]({\r\n                                x: x * 32,\r\n                                y: y * 32,\r\n                            }, 96, 32, symbol));\r\n                            break;\r\n                        case 'S':\r\n                        case 'C':\r\n                            layer.addObject(new _components_decoration__WEBPACK_IMPORTED_MODULE_5__[\"Decoration\"]({\r\n                                x: x * 32,\r\n                                y: y * 32\r\n                            }, 96, 32, symbol));\r\n                            break;\r\n                        case 'Z':\r\n                        case 'w':\r\n                        case 'W':\r\n                        case 'f':\r\n                            layer.addObject(new _components_decoration__WEBPACK_IMPORTED_MODULE_5__[\"Decoration\"]({\r\n                                x: x * 32,\r\n                                y: y * 32\r\n                            }, 32, 32, symbol));\r\n                            break;\r\n                    }\r\n                });\r\n            });\r\n        });\r\n        var menuLayer = new _menuLayer__WEBPACK_IMPORTED_MODULE_7__[\"MenuLayer\"]();\r\n        this.game.layers.push(menuLayer.getLayer());\r\n        this.game.start();\r\n    };\r\n    GameManager = __decorate([\r\n        Object(_state__WEBPACK_IMPORTED_MODULE_6__[\"connector\"])([])\r\n    ], GameManager);\r\n    return GameManager;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (GameManager);\r\n\n\n//# sourceURL=webpack:///./src/gameManager.ts?");

/***/ }),

/***/ "./src/gravity.ts":
/*!************************!*\
  !*** ./src/gravity.ts ***!
  \************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nfunction gravity(target) {\r\n    return /** @class */ (function (_super) {\r\n        __extends(class_1, _super);\r\n        function class_1() {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            var _this = this;\r\n            _this.gravity = true;\r\n            _this = _super.apply(this, args) || this;\r\n            return _this;\r\n        }\r\n        return class_1;\r\n    }(target));\r\n}\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (gravity);\r\n\n\n//# sourceURL=webpack:///./src/gravity.ts?");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _game_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./game.ts */ \"./src/game.ts\");\n/* harmony import */ var _modules_keyboard_keyboard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/keyboard/keyboard */ \"./src/modules/keyboard/keyboard.ts\");\n/* harmony import */ var _modules_keyboard_keyboardController_ts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/keyboard/keyboardController.ts */ \"./src/modules/keyboard/keyboardController.ts\");\n/* harmony import */ var _level_1_txt__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./level/1.txt */ \"./src/level/1.txt\");\n/* harmony import */ var _collisionChecker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./collisionChecker */ \"./src/collisionChecker.ts\");\n/* harmony import */ var _gameManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./gameManager */ \"./src/gameManager.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\nvar keyboardController = new _modules_keyboard_keyboardController_ts__WEBPACK_IMPORTED_MODULE_2__[\"KeyboardController\"](_modules_keyboard_keyboard__WEBPACK_IMPORTED_MODULE_1__[\"keyboard\"], document);\r\nvar collisionChecker = new _collisionChecker__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\r\nwindow.game = new _game_ts__WEBPACK_IMPORTED_MODULE_0__[\"default\"](collisionChecker);\r\nwindow.gameManager = new _gameManager__WEBPACK_IMPORTED_MODULE_5__[\"default\"](window.game, keyboardController);\r\nwindow.gameManager.loadLevel(_level_1_txt__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\r\n\n\n//# sourceURL=webpack:///./src/index.ts?");

/***/ }),

/***/ "./src/layer.ts":
/*!**********************!*\
  !*** ./src/layer.ts ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar Layer = /** @class */ (function () {\r\n    function Layer(code, config) {\r\n        this.code = code;\r\n        this.config = config;\r\n        this.objects = [];\r\n    }\r\n    Layer.prototype.addObject = function (obj) {\r\n        obj.layer = this;\r\n        this.objects.push(obj);\r\n        return this;\r\n    };\r\n    Layer.prototype.deleteObject = function (obj) {\r\n        this.objects = this.objects.filter(function (item) { return obj !== item; });\r\n    };\r\n    Object.defineProperty(Layer.prototype, \"trackableObjects\", {\r\n        get: function () {\r\n            return this.objects.filter(function (element) { return element.trackable; });\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return Layer;\r\n}());\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (Layer);\r\n\n\n//# sourceURL=webpack:///./src/layer.ts?");

/***/ }),

/***/ "./src/level/1.txt":
/*!*************************!*\
  !*** ./src/level/1.txt ***!
  \*************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n            S                                S    S                                                                          S                                     S\\r\\n\\r\\n\\r\\n\\r\\n{\\\"speed\\\": 1.1}\\r\\n>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n                                                  ffffff\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n ffffffff                     ffffffff\\r\\n\\r\\n\\r\\n\\r\\n{\\\"speed\\\": 1}\\r\\n>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n                                                  BBBBBB\\r\\n\\r\\n                     ?                                                                                                                          gg\\r\\n                                                  BBBBBB                                      BBBBBBB                                          ggg\\r\\n                     c                                                                                                  B*BB?BB               gggg\\r\\n   gggg        ?   B*B?B                      P                                           B?B                                                ggggg\\r\\n                                      P       p   BBBBBB                                                      P                             gggggg\\r\\n                            P         p       p                                                     P         p                            ggggggg\\r\\n          m             t   p         p   c   p                                                     p     c   p                     c     gggggggg\\r\\nggggggggggggggggggggggggggggggggggggggggggggggggggggggggg                      gggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggg\\r\\nggggggggggggggggggggggggggggggggggggggggggggggggggggggggg  M      M      M     ggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggg\\r\\nggggggggggggggggggggggggggggggggggggggggggggggggggggggggg                      ggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggggg\\r\\n{\\\"speed\\\": 1}\\r\\n>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n                                                  bbbbbb\\r\\n                                                   bZZb\\r\\n    bb                                            fbZZbf\\r\\n   bbbb                                           bbbbbb\\r\\n  bbbbbb                                           bZZb\\r\\n  bggggb                                          fbZZbf\\r\\n  bbZZbb                                          bbbbbb\\r\\n  bbZZbb                                           bZZb\\r\\n  bbZZbb                 S                         bZZb                                     S                                S          S\\r\\n\\r\\n                                                        WWWWWWWWWWWWWWWWWWWWWWWWWWWW\\r\\n                                                        wwwwwwwwwwwwwwwwwwwwwwwwwwww\\r\\n{\\\"speed\\\": 1}\\r\\n>\\r\\n                                                                C\\r\\n        C                                                                                                               C               C\\r\\n                                                                                                    C\\r\\n C                                                                          C\\r\\n                                                                                                                            C\\r\\n                        C                                                                                   C\\r\\n                                                       C\\r\\n                                  C                                                       C\\r\\n                C\\r\\n                x\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n{\\\"speed\\\": 0.5}\\r\\n>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n                                 bb\\r\\n                                bbbb                                                           dd\\r\\n                               bbbbbb                                                         dddd\\r\\n                               bZbbZb                                                        dddddd\\r\\n                               bbbbbb                                                       dddddddd\\r\\n                               bZbbZb                                          dd          dddddddddd\\r\\n                               bbbbbb                                         dddd        dddddddddddd\\r\\n                               bZbbZb                                        dddddd      ddddddZZdddddd\\r\\n                               bbbbbb                                       dddZZddd    dddddddZZddddddd\\r\\n\\r\\n\\r\\n\\r\\n{\\\"speed\\\": 0.8}\\r\\n>\");\n\n//# sourceURL=webpack:///./src/level/1.txt?");

/***/ }),

/***/ "./src/menuLayer.ts":
/*!**************************!*\
  !*** ./src/menuLayer.ts ***!
  \**************************/
/*! exports provided: MenuLayer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MenuLayer\", function() { return MenuLayer; });\n/* harmony import */ var _layer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./layer */ \"./src/layer.ts\");\n/* harmony import */ var _components_text_text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/text/text */ \"./src/components/text/text.ts\");\n/* harmony import */ var _state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./state */ \"./src/state.ts\");\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\n\r\n\r\nvar MenuLayer = /** @class */ (function () {\r\n    function MenuLayer() {\r\n        this.layer = new _layer__WEBPACK_IMPORTED_MODULE_0__[\"default\"](9999, {});\r\n        this.layer.addObject(new _components_text_text__WEBPACK_IMPORTED_MODULE_1__[\"Text\"]({\r\n            x: 3 * 32,\r\n            y: 2 * 32,\r\n        }, { text: 'SCORE' }))\r\n            .addObject(new _components_text_text__WEBPACK_IMPORTED_MODULE_1__[\"Text\"]({\r\n            x: 3 * 32,\r\n            y: 3 * 32,\r\n        }, _state__WEBPACK_IMPORTED_MODULE_2__[\"store\"].tieUp({ text: 'score', style: { fillStyle: 'white' } })))\r\n            .addObject(new _components_text_text__WEBPACK_IMPORTED_MODULE_1__[\"Text\"]({\r\n            x: 30 * 32,\r\n            y: 2 * 32,\r\n        }, { text: 'WORLD' }))\r\n            .addObject(new _components_text_text__WEBPACK_IMPORTED_MODULE_1__[\"Text\"]({\r\n            x: 30.5 * 32,\r\n            y: 3 * 32,\r\n        }, { text: '1 - 1' }))\r\n            .addObject(new _components_text_text__WEBPACK_IMPORTED_MODULE_1__[\"Text\"]({\r\n            x: 35 * 32,\r\n            y: 2 * 32,\r\n        }, { text: 'FRAMERATE' }))\r\n            .addObject(new _components_text_text__WEBPACK_IMPORTED_MODULE_1__[\"Text\"]({\r\n            x: 35.25 * 32,\r\n            y: 3 * 32,\r\n        }, _state__WEBPACK_IMPORTED_MODULE_2__[\"store\"].tieUp({ text: 'framerate', style: { fillStyle: '#ff0000' } })));\r\n    }\r\n    MenuLayer.prototype.getLayer = function () {\r\n        return this.layer;\r\n    };\r\n    MenuLayer = __decorate([\r\n        Object(_state__WEBPACK_IMPORTED_MODULE_2__[\"connector\"])('framerate', 'health', 'lifes', 'score', 'time')\r\n    ], MenuLayer);\r\n    return MenuLayer;\r\n}());\r\n\r\n\n\n//# sourceURL=webpack:///./src/menuLayer.ts?");

/***/ }),

/***/ "./src/modules/keyboard/keyboard.ts":
/*!******************************************!*\
  !*** ./src/modules/keyboard/keyboard.ts ***!
  \******************************************/
/*! exports provided: keyboard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"keyboard\", function() { return keyboard; });\nvar keyboard = {\r\n    'KeyD': 'RIGHT',\r\n    'KeyA': 'LEFT',\r\n    'KeyG': 'TOP',\r\n    'KeyS': 'DOWN',\r\n    'ShiftLeft': 'FLY',\r\n    'KeyW': 'JUMP',\r\n    'Space': 'ATTACk',\r\n    'Escape': 'PAUSE'\r\n};\r\n\n\n//# sourceURL=webpack:///./src/modules/keyboard/keyboard.ts?");

/***/ }),

/***/ "./src/modules/keyboard/keyboardController.ts":
/*!****************************************************!*\
  !*** ./src/modules/keyboard/keyboardController.ts ***!
  \****************************************************/
/*! exports provided: KeyboardController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"KeyboardController\", function() { return KeyboardController; });\n;\r\nvar KeyboardController = /** @class */ (function () {\r\n    function KeyboardController(keyboard, target) {\r\n        var _this = this;\r\n        this.actions = [];\r\n        this.handler = [];\r\n        this.eventHandler = function () {\r\n            _this.target.addEventListener(\"keydown\", function (event) {\r\n                if (_this.checkEventCode(event.code) && !event.repeat)\r\n                    _this.addAction(event.code);\r\n            });\r\n            _this.target.addEventListener(\"keyup\", function (event) {\r\n                if (_this.checkEventCode(event.code))\r\n                    _this.removeAction(event.code);\r\n            });\r\n        };\r\n        this.checkEventCode = function (action) {\r\n            return _this.keyboard.hasOwnProperty(action);\r\n        };\r\n        this.addAction = function (action) {\r\n            if (!_this.checkAction(action)) {\r\n                var eventCode_1 = _this.getEventCode(action);\r\n                _this.actions.push(eventCode_1);\r\n                _this.handler.forEach(function (handler) { return handler(eventCode_1, true); });\r\n            }\r\n        };\r\n        this.checkAction = function (action) {\r\n            return _this.actions.indexOf(_this.keyboard[action]) >= 0;\r\n        };\r\n        this.getEventCode = function (action) {\r\n            return _this.keyboard[action];\r\n        };\r\n        this.removeAction = function (action) {\r\n            var eventCode = _this.getEventCode(action);\r\n            var actionIndex = _this.actions.indexOf(eventCode);\r\n            delete _this.actions[actionIndex];\r\n            _this.actions = _this.actions.filter(function () { return true; });\r\n            _this.handler.forEach(function (handler) { return handler(eventCode, false); });\r\n        };\r\n        this.addEventHandler = function (callback) {\r\n            _this.handler.push(callback);\r\n        };\r\n        this.keyboard = keyboard;\r\n        this.target = target;\r\n        this.eventHandler();\r\n    }\r\n    KeyboardController.prototype.setKeyboard = function (keyboard) {\r\n        this.actions = [];\r\n        this.keyboard = keyboard;\r\n    };\r\n    return KeyboardController;\r\n}());\r\n\r\n\n\n//# sourceURL=webpack:///./src/modules/keyboard/keyboardController.ts?");

/***/ }),

/***/ "./src/state.ts":
/*!**********************!*\
  !*** ./src/state.ts ***!
  \**********************/
/*! exports provided: store, connector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"store\", function() { return store; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"connector\", function() { return connector; });\nvar __extends = (undefined && undefined.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar store = (function () {\r\n    var listeners = {};\r\n    var state = {\r\n        framerate: 0,\r\n        lifes: 3,\r\n        health: 100,\r\n        time: 200,\r\n        score: 0\r\n    };\r\n    function connect() {\r\n        var keys = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            keys[_i] = arguments[_i];\r\n        }\r\n        var listener = {};\r\n        keys.forEach(function (key) {\r\n            listener[key] = state[key];\r\n            if (!listeners.hasOwnProperty(key))\r\n                listeners[key] = [];\r\n            listeners[key].push(listener);\r\n        });\r\n        return listener;\r\n    }\r\n    function tieUp(links) {\r\n        var props = {};\r\n        Object.keys(links).forEach(function (key) {\r\n            if (state.hasOwnProperty(links[key])) {\r\n                Object.defineProperty(props, key, {\r\n                    get: function () { return state[links[key]]; },\r\n                    enumerable: true\r\n                });\r\n            }\r\n            else {\r\n                props[key] = links[key];\r\n            }\r\n        });\r\n        return props;\r\n    }\r\n    var getState = function () { return state; };\r\n    var set = function (key, value) {\r\n        state[key] = value;\r\n        if (listeners.hasOwnProperty(key)) {\r\n            listeners[key].forEach(function (listener) {\r\n                listener[key] = value;\r\n            });\r\n        }\r\n    };\r\n    var get = function (key) { return state[key]; };\r\n    return { getState: getState, set: set, get: get, connect: connect, tieUp: tieUp, state: state, listeners: listeners };\r\n})();\r\nfunction connector() {\r\n    var keys = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        keys[_i] = arguments[_i];\r\n    }\r\n    return function connector(target) {\r\n        return /** @class */ (function (_super) {\r\n            __extends(class_1, _super);\r\n            function class_1() {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                var _this = this;\r\n                _this.state = store.connect.apply(store, keys);\r\n                _this = _super.apply(this, args) || this;\r\n                return _this;\r\n            }\r\n            return class_1;\r\n        }(target));\r\n    };\r\n}\r\n\n\n//# sourceURL=webpack:///./src/state.ts?");

/***/ })

/******/ });